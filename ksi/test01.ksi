
-- перегрузка для типа $map
&map_replace $map: map src ~
	src #is $map ?
		map `each key : val& ~
			src #has_key key ? val = src[key] ;
		;
	;
	ret = map
;
-- &map_replace в общем виде
&map_replace a b ~
	'&map_replace ~ Первый аргумент должен быть типа $map.'
	#log #
;

`plain -- привет

{%x:0 %y:0 %z:0} => map &map_replace {%z:1 %y:1 %a:1}
map #dump #1
# &map_replace #
