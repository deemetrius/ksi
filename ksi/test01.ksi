
&test_for $array: range n ~
	range #dump #0
	" for\n" #echo #
	`while: #1 ~
		range `for i : v \
			i ?(
				range.1 < 0 ?
					"return\n" #echo #
					`return
				;
				"break\n" #echo #
				`break=2
			);
		~
			i == 0 ?
				[i " skip\n"] #echo #
				`next
			;
			{%index: i, %value: v} #echo [', ' ": "]
			"\n" #echo #
		;
	;
	"done\n" #echo #
;

`plain -- привет

[1_ 1.4 0.5] &test_for #
[1 1.4_ 0.5] &test_for #
